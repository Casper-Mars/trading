基于这次的经验教训，我建议制定以下开发规范来避免集成任务遗漏：


模块化开发集成规范

1. 任务规划强制检查清单

规范要求： 每个模块开发任务必须包含以下三个子任务：



 X.1 模块核心功能实现

 X.2 模块单元测试

 X.3 模块集成任务（与其他模块的接口对接）


2. 数据流向完整性验证

规范要求： 在tasks.md中必须包含端到端数据流验证任务：


- [ ] 数据流向完整性验证
  - 验证数据从输入到输出的完整链路
  - 确保每个处理环节都有明确的集成点
  - 测试异常情况下的数据流处理

3. 模块依赖关系图强制要求

规范要求： design.md文档必须包含：



模块依赖关系图（使用mermaid语法）

明确标注每个模块的输入输出接口

标明数据流向和调用关系


4. 集成任务优先级规则

规范要求： 集成相关任务的优先级不能低于被集成模块的最高优先级



如果模块A和模块B都是P0，那么A-B集成任务也必须是P0


5. Code Review集成检查点

规范要求： 代码审查时必须验证：



 新增模块是否在主服务中正确初始化

 数据流是否按设计文档流转

 是否存在孤立的模块（实现了但未被调用）


6. 集成测试强制要求

规范要求： 每个Sprint必须包含集成测试任务，验证模块间协作是否正常


这些规范可以有效避免"模块实现了但未集成"的问题。